<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>KDSE Examination Form 2025-26</title>

<style>

body{
    margin:0;
    font-family:'Segoe UI',sans-serif;
    background:linear-gradient(135deg,#e8f5e9,#e3f2fd);
}

.container{
    max-width:900px;
    margin:20px auto;
    background:white;
    padding:25px;
    border-radius:12px;
    border:4px solid #2e7d32;
    box-shadow:0 10px 25px rgba(0,0,0,0.15);
    position:relative;
}

/* WATERMARK */
.container::before{
    content:"KALYANI DEVI SCHOOL OF EDUCATION";
    position:absolute;
    top:50%;
    left:50%;
    transform:translate(-50%, -50%) rotate(-30deg);
    font-size:55px;
    color:rgba(0,100,0,0.05);
    font-weight:bold;
    white-space:nowrap;
    pointer-events:none;
}

/* HEADER */
.header{
    text-align:center;
    border-bottom:3px solid #2e7d32;
    padding-bottom:15px;
}

.school-name{
    font-size:28px;
    font-weight:800;
    color:#1b5e20;
}

.address{
    font-size:14px;
    color:#333;
    margin-top:5px;
}

.contact{
    margin-top:5px;
    font-size:14px;
    font-weight:600;
    color:#0d47a1;
}

.udise{
    font-weight:bold;
    color:#c62828;
    margin-top:3px;
}

.session{
    margin-top:8px;
    font-size:20px;
    font-weight:bold;
    color:#0d47a1;
}

.form-group{
    margin-bottom:15px;
}

label{
    font-weight:600;
    color:#1b5e20;
}

input, textarea, select{
    width:100%;
    padding:8px;
    border:2px solid #a5d6a7;
    border-radius:6px;
    margin-top:4px;
    font-size:14px;
}

input:focus, textarea:focus, select:focus{
    border-color:#2e7d32;
    outline:none;
    box-shadow:0 0 5px rgba(46,125,50,0.4);
}

.row{
    display:flex;
    gap:15px;
}

.row .form-group{
    flex:1;
}

.photo-box{
    width:120px;
    height:140px;
    border:2px solid #2e7d32;
    float:right;
    margin-bottom:10px;
    overflow:hidden;
}

.photo-box img{
    width:100%;
    height:100%;
    object-fit:cover;
}

/* CHECKBOX LEFT */
.declaration-box{
    display:flex;
    align-items:flex-start;
    gap:8px;
}

.declaration-box input{
    width:auto;
    margin-top:4px;
}

.signature-section{
    display:flex;
    justify-content:space-between;
    margin-top:40px;
}

.signature{
    width:30%;
    text-align:center;
    font-weight:bold;
}

.buttons{
    text-align:center;
    margin-top:20px;
}

button{
    padding:10px 20px;
    border:none;
    border-radius:6px;
    margin:5px;
    font-size:14px;
    cursor:pointer;
    color:white;
}

.print-btn{background:#2e7d32;}
.pdf-btn{background:#c62828;}
.save-btn{background:#6a1b9a;}
.back-btn{background:#1565c0;}

@media(max-width:768px){
    .row{flex-direction:column;}
    .photo-box{float:none;margin:auto;display:block;}
    .signature-section{flex-direction:column;gap:30px;}
}

@media print{
    .buttons{display:none;}
    body{background:white;}
}

</style>
</head>

<body>

<div class="container" id="formArea">

<div class="header">
<div class="school-name">KALYANI DEVI SCHOOL OF EDUCATION</div>

<div class="address">
Kalyani Devi School of Education, Piparkhunta, Post office - Dewarhat,  
Block - Lormi, Mungeli, Chhattisgarh – 495115
</div>

<div class="contact">
Mobile: 95229-XXXX | Email: xxschool@gmail.com
</div>

<div class="udise">UDISE Code - 7387387487</div>

<div class="session">Examination Form 2025-26</div>
</div>

<br>

<div class="photo-box">
<img id="preview">
</div>

<form id="examForm">

<div class="form-group">
<label>Form ID</label>
<input type="text" id="formID" readonly>
</div>

<div class="row">
<div class="form-group">
<label>Student Name (English)</label>
<input type="text" id="studentEng">
</div>
<div class="form-group">
<label>Student Name (Hindi)</label>
<input type="text" id="studentHin">
</div>
</div>

<div class="row">
<div class="form-group">
<label>Father Name (English)</label>
<input type="text" id="fatherEng">
</div>
<div class="form-group">
<label>Father Name (Hindi)</label>
<input type="text" id="fatherHin">
</div>
</div>

<div class="row">
<div class="form-group">
<label>Mother Name (English)</label>
<input type="text" id="motherEng">
</div>
<div class="form-group">
<label>Mother Name (Hindi)</label>
<input type="text" id="motherHin">
</div>
</div>

<div class="row">
<div class="form-group">
<label>Date of Birth</label>
<input type="date" id="dob">
</div>
<div class="form-group">
<label>Gender</label>
<select id="gender">
<option>Male</option>
<option>Female</option>
<option>Other</option>
</select>
</div>
</div>

<div class="form-group">
<label>Caste</label>
<select id="caste">
<option>General</option>
<option>OBC</option>
<option>SC</option>
<option>ST</option>
</select>
</div>

<div class="form-group">
<label>Aadhar Number</label>
<input type="text" id="aadhar">
</div>

<div class="form-group">
<label>Mobile Number</label>
<input type="text" id="mobile">
</div>

<div class="form-group">
<label>Email</label>
<input type="email" id="email">
</div>

<div class="form-group">
<label>Address</label>
<textarea rows="3" id="address"></textarea>
</div>

<div class="form-group">
<label>Upload Photo</label>
<input type="file" accept="image/*" onchange="previewImage(event)">
</div>

<div class="form-group declaration-box">
<input type="checkbox" id="declaration" required>
<span>
मैं प्रमाणित करता/करती हूँ कि मेरे द्वारा दी गयी सभी जानकारी सत्य है,
किसी भी प्रकार की त्रुटि के लिए सम्पूर्ण जिम्मेदारी मेरी होगी|
</span>
</div>

</form>

<div class="signature-section">
<div class="signature">_____________________<br>Student Signature</div>
<div class="signature">_____________________<br>Examination Incharge</div>
<div class="signature">_____________________<br>Principal</div>
</div>

<div class="buttons">
<button class="print-btn" onclick="window.print()">Print</button>
<button class="pdf-btn" onclick="downloadPDF()">Download PDF</button>
<button class="save-btn" onclick="saveRecord()">Save Record</button>
<button class="back-btn" onclick="history.back()">Back</button>
</div>

</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>

<script>

/* AUTO FORM ID */
let counter = localStorage.getItem("kdseCounter") || 1;
document.getElementById("formID").value =
"KDSE-2026-" + String(counter).padStart(3,'0');
localStorage.setItem("kdseCounter", ++counter);

/* IMAGE PREVIEW */
function previewImage(event){
let reader=new FileReader();
reader.onload=function(){
document.getElementById("preview").src=reader.result;
}
reader.readAsDataURL(event.target.files[0]);
}

/* PDF */
function downloadPDF(){
const element=document.getElementById("formArea");
html2pdf().set({
margin:0,
filename:'KDSE_Exam_Form.pdf',
html2canvas:{scale:3},
jsPDF:{unit:'mm',format:'a4',orientation:'portrait'}
}).from(element).save();
}

/* SAVE RECORD + GOOGLE SHEET + WHATSAPP */
function saveRecord(){

if(!document.getElementById("declaration").checked){
alert("Please accept declaration first");
return;
}

let formData = {
formID:formID.value,
studentEng:studentEng.value,
studentHin:studentHin.value,
fatherEng:fatherEng.value,
fatherHin:fatherHin.value,
motherEng:motherEng.value,
motherHin:motherHin.value,
mobile:mobile.value
};

fetch("YOUR_GOOGLE_SCRIPT_URL",{
method:"POST",
body:JSON.stringify(formData)
})
.then(res=>res.text())
.then(data=>{
alert("Record Saved Successfully!");
});

let message = `KDSE Admission Form Submitted
Form ID: ${formID.value}
Student: ${studentEng.value}`;

let whatsappURL = `https://wa.me/91${mobile.value}?text=${encodeURIComponent(message)}`;
window.open(whatsappURL,'_blank');

}

</script>

</body>
</html>
